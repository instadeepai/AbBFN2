defaults:
  - run: run
  - _self_

hydra:
  searchpath:
    - file://./configs

cfg:
  load_from_hf: false
  model_weights_path: /app/params.pkl

  input:
    path: null
    num_input_samples: 2
    override_masks_file: null

    mask_weight_overrides: null
    soft_inpaint_strategy: soft # random or soft

    dm_overwrites: # Select the data mode for the input samples.
      species: "mouse"

  sampling:
    seed: 0
    num_samples_per_batch: 1
    padding_visible: false
    force_conditioning_information: true
    inpaint_fn:
      _target_: abbfn2.sample.functions.TwistedSDESampleFn
      greedy: true
      num_steps: 300 # 300-1000
      twist_scale: 1.0 # 1.0
      num_particles: 4 # 4-8
      time_schedule:
        _target_: abbfn2.sample.schedule.LinearScheduleFn
    mask_fn:
      _target_: abbfn2.sample.inpaint_masks.ConditionDataModeMaskFn  # For inpaint_mask_fn/condition_data_mode or predict_data_mode
      data_modes:
        - "species"

  output:
    local_validation_dir: "./validation"
    exp_name: "inpaint"
    overwrite_local_if_exists: true
    save_raw: false
